(function(e,d,b,f){var a;var c=function(g,h){a=this;a.$markup=e(g);a.options=h;a.init();};c.prototype={defaults:{animationDuration:250,callbacks:{post:function(){},pre:function(){}},classes:{closeButton:"modal-close-button",contentWrapper:"modal-content-wrapper",curtain:"modal-curtain",loaded:"modal-loaded"}},init:function(){a.config=e.extend({},a.defaults,a.options);
a.$body=e("body");a.$closeButton=e('<button class="'+a.config.classes.closeButton+'" type="button">Close</button>');a.$curtain=e('<div class="'+a.config.classes.curtain+'" />');
a.$elem=e('<div class="'+a.config.classes.contentWrapper+'" />');a.$window=e(d);a.$elem.append(a.$markup,a.$closeButton);a.events.attach();return a;},events:{attach:function(){a.$closeButton.add(a.$curtain).on("click.modal",a.handlers.click);
a.$window.on("keyup.modal",a.handlers.keyup);},detach:function(){a.$closeButton.add(a.$curtain).off("click.modal");a.$window.off("keyup.modal");}},handlers:{click:function(g){g.preventDefault();
a.hide();},keyup:function(g){g.preventDefault();if(g.which==27){a.hide();}}},hide:function(){a.$curtain.add(a.$elem).removeClass(a.config.classes.loaded);
var g=setTimeout(function(){a.events.detach();a.$curtain.add(a.$elem).remove();if(typeof a.config.callbacks.post=="function"){a.config.callbacks.post();
}},a.config.animationDuration);},show:function(){a.$body.append(a.$curtain,a.$elem);if(typeof a.config.callbacks.pre=="function"){a.config.callbacks.pre();
}a.$elem.css("top",a.$window.scrollTop()+Math.floor((a.$window.outerHeight()-a.$elem.outerHeight())/2));a.$curtain.add(a.$elem).addClass(a.config.classes.loaded);
}};d.Modal=c;})(jQuery,window,document);